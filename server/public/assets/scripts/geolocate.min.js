/*! parking_app 2015-05-29 */
angular.module("app").factory("geolocation",["$q","$rootScope","$window",function(a,b,c){return{getLocation:function(){var d=a.defer();return c.navigator.geolocation?c.navigator.geolocation.getCurrentPosition(function(a){b.$apply(function(){d.resolve(a)})},function(a){switch(a){case 1:d.reject("Permission denied");break;case 2:d.reject("Position unavailable");break;case 3:d.reject("Request timeout")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):d.reject("Unsupported browser."),d.promise}}}]);